CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vueavionlibre`  AS  select `avions`.`idAvion` AS `idAvion`,`avions`.`images` AS `images`,`avions`.`immatAvion` AS `immatAvion`,`avions`.`categorie` AS `categorie` from (`avions` left join `asso_avionparking` on(`avions`.`idAvion` = `asso_avionparking`.`idAvion`)) where `asso_avionparking`.`dateArrivee` is null ;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `vueparkinglibre`  AS  select `parking`.`idParking` AS `idParking`,`parking`.`categorie` AS `categorie` from (`parking` left join (select distinct `asso_avionparking`.`idParking` AS `idParking`,`asso_avionparking`.`dateArrivee` AS `dateArrivee`,first_value(`asso_avionparking`.`dateDepart`) over ( partition by `asso_avionparking`.`idParking` order by `asso_avionparking`.`idAsso` desc) AS `dateDepart` from `asso_avionparking` where `asso_avionparking`.`dateDepart` is null) `nonlibre` on(`parking`.`idParking` = `nonlibre`.`idParking`)) where `nonlibre`.`idParking` is null ;
